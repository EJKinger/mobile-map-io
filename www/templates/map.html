<ion-view view-title="Map">
    <ion-nav-bar align-title="center" class="bar-positive">
        <ion-nav-buttons side="left">
            <button class="button button-icon icon ion-ios-list-outline"
                    ui-sref="list"
                    nav-direction="swap">
            </button>
        </ion-nav-buttons>
        <ion-nav-buttons side="right">
            <button class="button button-icon icon ion-ios-search"
                    ng-click="toggleSearch()"
                    ng-show="mapReady">
            </button>
            <button class="button button-icon icon ion-ios-color-filter-outline"
                    ng-click="showFilters()">
            </button>
        </ion-nav-buttons>q
    </ion-nav-bar>
    <ion-content scroll="false">
        <div id="search" class="item item-input-inset">
            <label class="item-input-wrapper">
                <input
                    type="search"
                    placeholder="Search for a place"
                    g-places-autocomplete
                    ng-model="search"
                    ng-show="searchBarVisible"
                />
            </label>
        </div>

        <ui-gmap-google-map
            center='map.center'
            control='map.control'
            events='map.events'
            options='map.options'
            zoom='map.zoom'
        >
            <ui-gmap-marker
                coords="map.position.coords"
                idKey="'map.position.id'"
                icon="map.position.icon"
                options="map.position.options">
            </ui-gmap-marker>
            <ui-gmap-marker
                coords="map.search.coords"
                idkey="'map.search.id'"
                options="map.search.options">
            </ui-gmap-marker>
            <!-- <ui-gmap-markers
                 models="reports.markers"
                 coords="self">
            </ui-gmap-markers> -->
        </ui-gmap-google-map>

        <button id="centerOnMe"
            ng-click="centerOnMe()"
            ng-show="mapReady"
            class="button button-light icon ion-pinpoint">
        </button>

        <button id="addReport"
            ui-sref="add"
            class="button button-assertive icon ion-plus">
        </button>
    </ion-content>
</ion-view>
